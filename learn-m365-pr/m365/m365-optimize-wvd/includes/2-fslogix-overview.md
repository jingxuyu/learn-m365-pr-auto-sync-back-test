To provide the best experience for your Azure Virtual Desktop users, use FSLogix profiles. FSLogix is designed to roam profiles in remote computing environments, such as Azure Virtual Desktop. It stores a complete user profile in a single container. At sign-in, this container is dynamically attached to the computing environment using natively supported Virtual Hard Disk (VHD) and Hyper-V Virtual Hard disk (VHDX). The user profile is immediately available and appears in the system exactly like a native user profile.

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RWJYhM]

## What is FSLogix?

FSLogix is a set of solutions that allow you to manage non-persistent Windows computing environments. With FSLogix solutions you can:

- Maintain user context in non-persistent environments
- Minimize sign in times for non-persistent environments
- Optimize file IO between host/client and remote profile store
- Provide users a local profile experience, which can eliminate many compatibility issues with solutions using visible redirection
- Simplify the management of applications and images
- Specify the version of Java to be used by specific URL and applications

## Generate user profiles for Azure Virtual Desktop

A user profile contains data elements about an individual, including configuration information like desktop settings, persistent network connections, and application settings. A remote user profile provides a partition between user data and the operating system.

Use FSLogix profiles to:

- Separate user profiles from virtual machines
- Persist these profiles as user-assigned virtual disks in Azure storage, Azure NetApp Files, or Storage Spaces Direct
- Dynamically attach them to a user

Each time the user signs in to a remote resource, their profile is attached to the resource, and they're able to access all of their data.  

Compared to classic roaming user profiles in Windows, separating the user profiles and data enables a seamless roaming experience for apps that rely on %localappdata% locations, like Outlook and OneDrive. It's fast and stateful. As far as users can tell, their data loads as fast as locally stored data. FSLogix profiles let you use cached mailboxes for local-like access to email and OneDrive Files on Demand.

Create a storage account in the Azure portal to store the user-assigned virtual disk files generated by the FSLogix profiles. The process works by containerizing the user profile into a VHD or VHDX file the first time a user signs in. The VHD or VHDX files are stored to this location and attached to users the next time they sign in.

The following diagram shows the process of getting the user profile after a user signs into the Remote Desktop client.

   :::image type="content" source="../media/2-user-profiles.png" border="false" alt-text="Illustration that shows the process of getting user profiles after a user signs into the remote desktop client.":::

1. User signs into the Remote Desktop client.
1. User gets assigned to a session host virtual machine (VM).
1. VM gets the user profile from the Azure file share.
1. (Preview) If you have MSIX app attach configured, apps are dynamically delivered to the session host VM. MSIX app attach uses FSLogix storage concepts, but for applications.
1. User gets their Azure Virtual Desktop workspace populated with their assigned app(s) or session desktop.

We'll walk through the process of creating a FSLogix profile in the following unit.
