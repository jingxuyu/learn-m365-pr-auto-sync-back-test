Transport rules provide you with an almost limitless ability to control messaging in your Exchange Server organization. Messaging administrators must carefully plan their transport rules to ensure they behave as intended. Failure to do so could result in accidentally deleted messages, or messages delivered to unintended recipients.

Organizations should consider the following recommendations when planning transport rules:

 -  **Plan conditions and exceptions carefully**. Transport rule conditions and exceptions define which messages are affected by the transport rule. If you implement the rules incorrectly, you may unintentionally modify or delete messages.
 -  **Plan for Transport rule priority and order**. In many cases, you must apply several transport rules in your organization. If these transport rules have conditions that can overlap in some cases, it’s important that you order them properly.
 -  **Use regular expressions to check message contents**. Use regular expressions to simplify the list of terms when you're including a text string in a condition. You can use one regular expression, rather than a list of variations on the same word. For example, when searching for a phone-number pattern, you can use the expression “\\d\\d\\d(-\|.)\\d\\d\\d\\d”, which denotes a pattern of three digits, then a dot or dash, and then four digits.
 -  **Test application of transport rules**. Test new transport rules to ensure they behave as intended. Testing is important to avoid situations where a new transport rule conflicts with existing transport rules.
 -  **Plan for transport rule limitations on encrypted and digitally signed messages**. RMS integration with Exchange Server enables you to implement transport rules and messaging policies when you’re using RMS Information Rights Management encryption to protect messages. Encryption through other mechanisms may prevent you from applying transport rules or records management. For example, Exchange Server may be unable to scan encrypted messages for the text string specified in a transport rule.
 -  **Consider transport rule recovery**. Deleted transport rules aren't easily recoverable. While Transport rules are stored in Active Directory, restoring rules from Active Directory is a complex process. Documented transport rules are instead easy to re-create, and you can export transport rules to backup files by using the **Export-TransportRuleCollection** cmdlet. However, when you import transport rules onto a Hub Transport server, the server replaces all the existing transport rules for the organization.

Transport rules can be configured through the Exchange Admin Center (EAC) and the Exchange Management Shell (EMS) by using the **New-TransportRule** and **Set-TransportRule** cmdlets.

**Additional reading**. For more information, see [Mail flow rule conditions and exceptions (predicates) in Exchange Server](/exchange/policy-and-compliance/mail-flow-rules/conditions-and-exceptions?azure-portal=true).
